<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge'>
<title>Scrap Section</title>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<link rel='stylesheet' type='text/css' media='screen' href='/CSS/style-scrap.css'>
<link rel='stylesheet' type='text/css' media='screen' href='/CSS/style-index.css'>
<!-- <link rel='stylesheet' type='text/css' media='screen' href='/CSS/style-index.css'> -->
<link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

</head>
<body>
    <!-- ============= Menubar and topbar ============= -->
    <nav class="sidebar close">
        <header>
            <div class="image-text">
                <span class="image">
                    <img src="/images/hanonLogoPng.png" alt="Logo">
                </span>

                <div class="text header-text">
                    <span class="name">KPI's</span>
                </div>
            </div>

            <i class='bx bx-chevron-right toggle'></i>
        </header>

        <div class="menu-bar">
            <div class="menu">
                <ul class="menu-links">
                    <li class="nav-link">
                        <a href="index.html" target="">
                            <i class='bx bx-home-alt icon' title="Dashboard"></i>
                            <span class="text nav-text">Dashboard</span>
                        </a>
                    </li>
                    <li class="nav-link">
                        <a href="scrap.html" id="btn-scrap">
                            <i class='bx bx-trash icon' title="Scrap"></i>
                            <span class="text nav-text">Scrap</span>
                        </a>
                    </li>
                    <li class="nav-link">
                        <a href="#">
                            <i class='bx bx-check-square icon' title="Quality"></i>
                            <span class="text nav-text">Quality</span>
                        </a>
                    </li>
                    <li class="nav-link">
                        <a href="#">
                            <i class='bx bxs-rocket icon' title="Production"></i>
                            <span class="text nav-text">Production</span>
                        </a>
                    </li>
                    <li class="nav-link">
                        <a href="energy.html">
                            <i class='bx bxs-bolt icon' title="Energy Effiency"></i>
                            <span class="text nav-text">Energy Effiency</span>
                        </a>
                    </li>
                    <li class="nav-link">
                        <a href="#">
                            <i class='bx bxs-wrench icon' title="Maintenance"></i>
                            <span class="text nav-text">Maintenance</span>
                        </a>
                    </li>
                    <li class="nav-link">
                        <a href="#">
                            <i class='bx bx-package icon' title="MP&L"></i>
                            <span class="text nav-text">MP&L</span>
                        </a>
                    </li>
                </ul>
            </div>

            <div class="bottom-content">
                <li class="">
                    <a href="#">
                        <i class='bx bx-log-out icon' title="Logout"></i>
                        <span class="text nav-text">Logout</span>
                    </a>
                </li>

                <li class="mode">
                    <div class="moon-sun">
                        <i class='bx bx-moon icon moon' ></i>
                        <i class='bx bx-sun icon sun' ></i>
                    </div>
                    <span class="mode-text text">Dark Mode</span>

                    <div class="toggle-switch">
                        <span class="switch"></span>
                    </div>
                </li>
            </div>
        </div>
    </nav>

    <!-- =============== MENU SUPERIOR (TOP BAR) =============== -->
    <nav class="topbar">
        <div class="topbar-menu">
            <div class="date-box">
                <input type="date" id="fecha-principal" class="control" />
            </div>
            <li class="perfil-box">
                <img src="/images/perfil.jpg" class="user-icon">
            </li>           
        </div>
        <div class="dropdown-menu">
            <div class="dropdown-wrapper">
                <div class="user-info">
                    <img src="/images/perfil.jpg" alt="">
                    <h2>Isaac Mendivil</h2>
                </div>
                <hr>
                <div class="menu-options">
                    <div>
                        <a href="perfil.html">
                            <!-- <img src="images/user-id-card.svg" alt=""> -->
                             <i class='bx bx-user' ></i>
                            <p>Ver perfil</p>
                            <span>></span>
                        </a>
                    </div>
                    <div>
                        <a href="config.html">
                            <!-- <img src="images/settings-icon.png" alt=""> -->
                            <i class='bx  bx-cog'  ></i> 
                            <p>Configuraciones</p>
                            <span>></span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <section class="home">

        <!-- Scrap Indicator Section -->
        <div class="contenedorIndicadoresScrap">
            <div class="form-insert insertion indicadorScrap">
                <h3>Insertar los costos de material y scrap</h3>
                <form id="scrapIndicatorForm">
                    <input type="hidden" id="editIndicatorId">  <!-- Campo oculto auxiliar para el evento de modificacion -->

                    <label>Fecha:</label>
                    <input type="datetime-local" id="fecha-indicador" name="fecha" class="control fecha" required />

                    <label for="costEndItem">Cost EndItem</label>
                    <div class="costEndItem">
                        <input type="number" id="costEndItem" class="control" required />
                        <label class="signo">$</label>
                    </div>
                    
                    <label for="costScrap">Cost Scrap:</label>
                    <div class="costScrap">
                        <input type="number" id="costScrap" class="control" required />
                        <label class="signo">$</label>
                    </div>

                    <button type="submit" id="buttonIndicador" class="buttonIndicador">Guardar</button>
                </form>
            </div>

            <div class="form-insert register">
                <h3>Costos registrados</h3>
                <table id="scrapIndicatorTable">
                    <thead>
                    <tr>
                        <th>ID</th>
                        <th>Fecha</th>
                        <th>Cost EndItem</th>
                        <th>Cost Scrap</th>
                        <th>Percentage Scrap</th>
                        <th>Acciones</th>
                    </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <!-- Scrap Proceso Section -->
        <div class="contenedorScrapProceso">
            <div class="form-insert insertion scrapProceso">
                <h3>Insertar nuevo proceso de scrap</h3>
                <form id="scrapForm">
                    <label>Fecha:</label>
                    <input type="datetime-local" id="fecha-proceso" name="fecha" class="control" required />

                    <label>Nombre del Proceso:</label>
                    <!-- <input type="" id="nombre" name="nombreProceso" class="control" required /> -->
                    <select id="proceso" class="control selector" name="nombre">
                        <option value="Cels Ensam Final">Cels Ensam Final</option>
                        <option value="Rotatorias">Rotatorias</option>
                        <option value="Fabricacion">Fabricacion</option>
                        <option value="Dobladoras">Dobladoras</option>
                        <option value="Other Prod">Other Prod</option>
                    </select>

                    <label for="cantidad">Cantidad:</label>
                    <div class="costProceso">
                        <input type="number" step="0.01" id="cantidad" name="amountProceso" class="control" required />
                        <label class="signo">$</label>
                    </div>
                    <button type="submit" id="buttonProcesos">Guardar</button>
                </form>
            </div>

            <div class="form-insert register">
                <h3>Procesos registrados</h3>
                <table id="scrapTable">
                    <thead>
                    <tr>
                        <th>ID</th>
                        <th>Fecha</th>
                        <th>Proceso</th>
                        <th>Cantidad</th>
                        <th>Acciones</th>
                    </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <!-- Scrap Defecto Section -->
        <div class="contenedorScrapDefecto">
            <div class="form-insert insertion scrapDefecto">
                <h3>Insertar nuevo defecto de scrap</h3>
                <form id="scrapDefectoForm">
                    <label>Fecha:</label>
                    <input type="datetime-local" id="fecha-defecto" name="fecha" class="control" required />

                    <label>Nombre del Defecto:</label>
                    <select id="defecto-nombre" class="control selector" name="nombre">
                        <option value="">Cargando defectos...</option>
                    </select>

                    <label for="defecto-costo">Costo:</label>
                    <div class="costDefecto">
                        <input type="number" step="0.01" id="defecto-costo" name="costo" class="control" required />
                        <label class="signo">$</label>
                    </div>
                    <button type="submit" id="buttonDefecto">Guardar</button>
                </form>
            </div>

            <div class="form-insert register">
                <h3>Defectos registrados</h3>
                <table id="scrapDefectoTable">
                    <thead>
                    <tr>
                        <th>ID</th>
                        <th>Fecha</th>
                        <th>CÃ³digo</th>
                        <th>Nombre Defecto</th>
                        <th>Costo</th>
                        <th>Acciones</th>
                    </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

    </section>

    <!-- MODAL PARA LAS MODIFICACIONES DE INDICADORES-->
    <div id="editModal" class="modal-overlay">
        <div class="modal-content">
            <span id="closeModalBtn" class="close-btn">&times;</span>
            <h3>Modificar Registro de Costos</h3>
            <form id="editIndicatorForm">
                <input type="hidden" id="edit-id-hidden">

                <label for="edit-fecha-indicador">Fecha:</label>
                <input type="datetime-local" id="edit-fecha-indicador" class="control" required />

                <label for="edit-costEndItem">Cost EndItem</label>
                <div class="costEndItem">
                    <input type="number" id="edit-costEndItem" class="control" required />
                    <label class="signo">$</label>
                </div>

                <label for="edit-costScrap">Cost Scrap:</label>
                <div class="costScrap">
                    <input type="number" id="edit-costScrap" class="control" required />
                    <label class="signo">$</label>
                </div>

                <button type="submit">Actualizar Registro</button>
            </form>
        </div>
    </div>

    <!-- MODAL PARA LAS MODIFICACIONES DE PROCESOS -->
    <div id="editProcessModal" class="modal-overlay">
        <div class="modal-content">
            <span id="closeProcessModalBtn" class="close-btn">&times;</span>
            <h3>Modificar Registro de Proceso</h3>
            <form id="editProcessForm">
                <input type="hidden" id="edit-process-id-hidden">

                <label for="edit-fecha-proceso">Fecha:</label>
                <input type="datetime-local" id="edit-fecha-proceso" class="control" required />

                <label for="edit-proceso-nombre">Nombre del Proceso:</label>
                <select id="edit-proceso-nombre" class="control">
                    <option value="Cels Ensam Final">Cels Ensam Final</option>
                    <option value="Rotatorias">Rotatorias</option>
                    <option value="Fabricacion">Fabricacion</option>
                    <option value="Dobladoras">Dobladoras</option>
                    <option value="Other Prod">Other Prod</option>
                </select>

                <label for="edit-proceso-cantidad">Cantidad:</label>
                <input type="number" step="0.01" id="edit-proceso-cantidad" class="control" required />

                <button type="submit">Actualizar Proceso</button>
            </form>
        </div>
    </div>

    <!-- MODAL PARA LAS MODIFICACIONES DE DEFECTOS -->
    <div id="editDefectoModal" class="modal-overlay">
        <div class="modal-content">
            <span id="closeDefectoModalBtn" class="close-btn">&times;</span>
            <h3>Modificar Registro de Defecto</h3>
            <form id="editDefectoForm">
                <input type="hidden" id="edit-defecto-id-hidden">

                <label for="edit-fecha-defecto">Fecha:</label>
                <input type="datetime-local" id="edit-fecha-defecto" class="control" required />

                <label for="edit-defecto-nombre">Nombre del Defecto:</label>
                <select id="edit-defecto-nombre" class="control" required>
                </select>

                <label for="edit-defecto-costo">Costo:</label>
                <div class="costDefecto">
                    <input type="number" step="0.01" id="edit-defecto-costo" class="control" required />
                    <label class="signo">$</label>
                </div>

                <button type="submit">Actualizar Defecto</button>
            </form>
        </div>
    </div>


    <!-- ---------------------- SCRIPTS ---------------------- -->
    <script src="/JS/script-scrap.js"></script>
    <script src="/JS/script-bar.js"></script>
</body>
</html>
